{"version":3,"sources":["../index.js"],"names":["possiblyActivate","rowIdentifier","handler","config","delay","call","self","__reactMenuAimTimer","setTimeout","module","exports","initMenuAim","options","__reactMenuAimConfig","__getMouseMoveDocumentHandler","__mouseMoveDocumentHandler","bind","componentDidMount","mousemoveListener","document","componentWillUnmount","mouseLocs","clearTimeout","handleMouseLeaveMenu","e","handleMouseEnterRow"],"mappings":";;AAAA;;AAGA,SAASA,gBAAT,CAA0BC,aAA1B,EAAyCC,OAAzC,EAAkDC,MAAlD,EAA0D;AACxD,MAAIC,QAAQ,uBAAiBC,IAAjB,CAAsB,IAAtB,EAA4BF,MAA5B,CAAZ;;AAEA,MAAIC,KAAJ,EAAW;AACT,QAAIE,OAAO,IAAX;AACA,SAAKC,mBAAL,GAA2BC,WAAW,YAAU;AAC9CR,uBAAiBK,IAAjB,CAAsBC,IAAtB,EAA4BL,aAA5B,EAA2CC,OAA3C,EAAoDC,MAApD;AACD,KAF0B,EAExBC,KAFwB,CAA3B;AAGD,GALD,MAMK;AACH,mBAASC,IAAT,CAAc,IAAd,EAAoBJ,aAApB,EAAmCC,OAAnC;AACD;AACF;;AAGD;;;AAGAO,OAAOC,OAAP,GAAiBA,UAAU;AACzBC,eAAa,qBAASC,OAAT,EAAkB;AAC7B,SAAKC,oBAAL,GAA4BD,OAA5B;AACD,GAHwB;;AAKzBE,iCAA+B,yCAAW;AACxC,QAAI,CAAC,KAAKC,0BAAV,EAAsC;AACpC,WAAKA,0BAAL,GAAkC,8BAAwBC,IAAxB,CAA6B,IAA7B,CAAlC;AACD;;AAED,WAAO,KAAKD,0BAAZ;AACD,GAXwB;;AAazBE,qBAAmB,6BAAW;AAC5B,QAAI,mBAAaC,iBAAb,KAAmC,CAAvC,EAA0C;AACxC,oBAAGC,QAAH,EAAa,WAAb,EAA0B,KAAKL,6BAAL,EAA1B;AACD;;AAED,uBAAaI,iBAAb,IAAkC,CAAlC;AACD,GAnBwB;;AAqBzBE,wBAAsB,gCAAW;AAC/B,uBAAaF,iBAAb,IAAkC,CAAlC;;AAEA,QAAI,mBAAaA,iBAAb,KAAmC,CAAvC,EAA0C;AACxC,qBAAIC,QAAJ,EAAc,WAAd,EAA2B,KAAKL,6BAAL,EAA3B;AACA,yBAAaO,SAAb,GAAyB,EAAzB;AACD;;AAEDC,iBAAa,KAAKf,mBAAlB;AACA,SAAKA,mBAAL,GAA2B,IAA3B;AACA,SAAKQ,0BAAL,GAAkC,IAAlC;AACD,GAhCwB;;AAkCzB;;;;AAIAQ,wBAAsB,8BAASrB,OAAT,EAAkBsB,CAAlB,EAAqB;AACzC,QAAI,KAAKjB,mBAAT,EAA8B;AAC5Be,mBAAa,KAAKf,mBAAlB;AACD;;AAED,QAAI,OAAOL,OAAP,KAAmB,UAAvB,EAAmC;AACjCA,cAAQG,IAAR,CAAa,IAAb,EAAmBmB,CAAnB;AACD;AACF,GA9CwB;;AAgDzB;;;;;AAKAC,uBAAqB,6BAASxB,aAAT,EAAwBC,OAAxB,EAAiC;AACpD,QAAI,KAAKK,mBAAT,EAA8B;AAC5Be,mBAAa,KAAKf,mBAAlB;AACD;;AAEDP,qBAAiBK,IAAjB,CAAsB,IAAtB,EAA4BJ,aAA5B,EAA2CC,OAA3C,EAAoD,KAAKW,oBAAzD;AACD;AA3DwB,CAA3B","file":"index.js","sourcesContent":["import {on, off, handleMouseMoveDocument, activate, getActivateDelay, menuAimModel} from './src/core.js';\n\n\nfunction possiblyActivate(rowIdentifier, handler, config) {\n  var delay = getActivateDelay.call(this, config);\n\n  if (delay) {\n    var self = this;\n    this.__reactMenuAimTimer = setTimeout(function(){\n      possiblyActivate.call(self, rowIdentifier, handler, config);\n    }, delay);\n  }\n  else {\n    activate.call(this, rowIdentifier, handler);\n  }\n}\n\n\n/**\n * @export\n */\nmodule.exports = exports = {\n  initMenuAim: function(options) {\n    this.__reactMenuAimConfig = options;\n  },\n\n  __getMouseMoveDocumentHandler: function() {\n    if (!this.__mouseMoveDocumentHandler) {\n      this.__mouseMoveDocumentHandler = handleMouseMoveDocument.bind(this);\n    }\n\n    return this.__mouseMoveDocumentHandler;\n  },\n\n  componentDidMount: function() {\n    if (menuAimModel.mousemoveListener === 0) {\n      on(document, 'mousemove', this.__getMouseMoveDocumentHandler());\n    }\n\n    menuAimModel.mousemoveListener += 1;\n  },\n\n  componentWillUnmount: function() {\n    menuAimModel.mousemoveListener -= 1;\n\n    if (menuAimModel.mousemoveListener === 0) {\n      off(document, 'mousemove', this.__getMouseMoveDocumentHandler());\n      menuAimModel.mouseLocs = [];\n    }\n\n    clearTimeout(this.__reactMenuAimTimer);\n    this.__reactMenuAimTimer = null;\n    this.__mouseMoveDocumentHandler = null;\n  },\n\n  /**\n   * @param  {function} handler The true event handler for your app\n   * @param  {object}   e       React's synthetic event object\n   */\n  handleMouseLeaveMenu: function(handler, e) {\n    if (this.__reactMenuAimTimer) {\n      clearTimeout(this.__reactMenuAimTimer);\n    }\n\n    if (typeof handler === 'function') {\n      handler.call(this, e);\n    }\n  },\n\n  /**\n   * @param  {number}   rowIdentifier  The identifier of current row, ie. index or name\n   * @param  {function} handler        The true event handler for your app\n   * @param  {object}   e              React's synthetic event object\n   */\n  handleMouseEnterRow: function(rowIdentifier, handler) {\n    if (this.__reactMenuAimTimer) {\n      clearTimeout(this.__reactMenuAimTimer);\n    }\n\n    possiblyActivate.call(this, rowIdentifier, handler, this.__reactMenuAimConfig);\n  }\n};\n"]}